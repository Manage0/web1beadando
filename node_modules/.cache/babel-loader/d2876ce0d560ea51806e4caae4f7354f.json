{"ast":null,"code":"import _toConsumableArray from\"C:/Users/User/Desktop/Web1bead/web1bead/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"C:/Users/User/Desktop/Web1bead/web1bead/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/User/Desktop/Web1bead/web1bead/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/User/Desktop/Web1bead/web1bead/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import axios from'axios';import{useState,useEffect,useContext}from'react';import\"../Css/Button.css\";import{UserNameContext}from\"../Contexts_Reducers/UsernameContext\";var RandomCatThings=function RandomCatThings(){var selectedFacts=[];var _useState=useState(),_useState2=_slicedToArray(_useState,2),facts=_useState2[0],setFacts=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),APIisBack=_useState4[0],setAPIisBack=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loaded=_useState6[0],setLoaded=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),index=_useState8[0],setIndex=_useState8[1];var _useContext=useContext(UserNameContext),username=_useContext.username;useEffect(function(){var load=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var resp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios(\"https://jsonplaceholder.typicode.com/todos/\");case 3:resp=_context.sent;setFacts(resp.data);setLoaded(true);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:_context.prev=11;_context.next=14;return axios(\"https://cat-fact.herokuapp.com/facts\");case 14:setAPIisBack(true);_context.next=20;break;case 17:_context.prev=17;_context.t1=_context[\"catch\"](11);console.log(_context.t1);case 20:case\"end\":return _context.stop();}}},_callee,null,[[0,8],[11,17]]);}));return function load(){return _ref.apply(this,arguments);};}();if(!loaded){load();}},[loaded]);if(!loaded){return/*#__PURE__*/_jsx(\"h5\",{children:\"You will see the facts here!\"});}var SaveSelected=function SaveSelected(selected){var actualItem=localStorage.getItem(username);if(selectedFacts[selected]){localStorage.setItem(username,actualItem?JSON.stringify([].concat(_toConsumableArray(JSON.parse(actualItem)),[facts[selected].title])):JSON.stringify([facts[selected].title]));}};var Save=function Save(){if(username){if(selectedFacts[index]||selectedFacts[index+1]||selectedFacts[index+2]||selectedFacts[index+3]){SaveSelected(index);SaveSelected(index+1);SaveSelected(index+2);SaveSelected(index+3);}else{alert(\"No items selected!\");}}else{alert(\"No username set!\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"styleddiv\",children:[\"These aren't cat facts, because the original API crashed :(\",/*#__PURE__*/_jsx(\"br\",{}),APIisBack?\"API is back online! :)\":\"API still not working :(\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:function onChange(){selectedFacts[index]?selectedFacts[index]=false:selectedFacts[index]=true;}}),index+1+\". \"+JSON.stringify(facts[index].title),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:function onChange(){selectedFacts[index+1]?selectedFacts[index+1]=false:selectedFacts[index+1]=true;}}),index+2+\". \"+JSON.stringify(facts[index+1].title),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:function onChange(){selectedFacts[index+2]?selectedFacts[index+2]=false:selectedFacts[index+2]=true;}}),index+3+\". \"+JSON.stringify(facts[index+2].title),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:function onChange(){selectedFacts[index+3]?selectedFacts[index+3]=false:selectedFacts[index+3]=true;}}),index+4+\". \"+JSON.stringify(facts[index+3].title),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"styleddiv\",children:[/*#__PURE__*/_jsx(\"button\",{variant:\"primary\",className:\"button\",onClick:function onClick(){index>=4?setIndex(index-4):setIndex(index);},children:index>=4?/*#__PURE__*/_jsxs(\"h4\",{children:[\"Previous \",index-3,\"-\",index]}):/*#__PURE__*/_jsx(\"h4\",{children:\"No previous available\"})}),/*#__PURE__*/_jsx(\"button\",{variant:\"primary\",className:\"button\",onClick:function onClick(){setIndex(index+4);},children:/*#__PURE__*/_jsxs(\"h4\",{children:[\"Next \",index+5,\"-\",index+8]})}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"div\",{className:\"styleddiv\",children:/*#__PURE__*/_jsx(\"button\",{variant:\"primary\",className:\"button\",onClick:function onClick(){Save();},children:/*#__PURE__*/_jsx(\"h4\",{children:\"Save Selected items\"})})})]});};export default RandomCatThings;","map":{"version":3,"sources":["C:/Users/User/Desktop/Web1bead/web1bead/src/Routes/RandomCatThings.js"],"names":["axios","useState","useEffect","useContext","UserNameContext","RandomCatThings","selectedFacts","facts","setFacts","APIisBack","setAPIisBack","loaded","setLoaded","index","setIndex","username","load","resp","data","console","log","SaveSelected","selected","actualItem","localStorage","getItem","setItem","JSON","stringify","parse","title","Save","alert"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport { useState, useEffect, useContext } from 'react'\r\nimport \"../Css/Button.css\"\r\nimport { UserNameContext } from \"../Contexts_Reducers/UsernameContext\"\r\n\r\nconst RandomCatThings = () => {\r\n\r\n  var selectedFacts=[]\r\n  const [facts, setFacts] = useState();\r\n  const [APIisBack, setAPIisBack] = useState(false);\r\n  const [loaded, setLoaded] = useState(false);\r\n  const [index, setIndex] = useState(0);\r\n  const { username } = useContext(UserNameContext)\r\n\r\n  useEffect(() => {\r\n    const load = async () => {\r\n      try {\r\n        const resp = await axios(\r\n          \"https://jsonplaceholder.typicode.com/todos/\"\r\n        )\r\n        setFacts(resp.data)\r\n        setLoaded(true)\r\n      } catch (err) {\r\n        console.log(err)\r\n      }\r\n      try { \r\n        await axios(\r\n          \"https://cat-fact.herokuapp.com/facts\"\r\n        )\r\n        setAPIisBack(true)\r\n      } catch (err) {\r\n        console.log(err)\r\n      }\r\n    }\r\n\r\n    if (!loaded) {\r\n      load()\r\n    }\r\n  }, [loaded])\r\n  if (!loaded) {\r\n    return (<h5>You will see the facts here!</h5>)\r\n  }\r\n\r\n  const SaveSelected=(selected)=>{\r\n    const actualItem=localStorage.getItem(username)\r\n    if (selectedFacts[selected]) {\r\n      localStorage.setItem(\r\n        username,\r\n        actualItem ?\r\n          JSON.stringify(\r\n            [\r\n              ...JSON.parse(actualItem),\r\n              facts[selected].title\r\n            ])\r\n          : JSON.stringify([facts[selected].title]));\r\n    }\r\n  }\r\n\r\n  const Save = () => {\r\n    if (username) {\r\n      if (selectedFacts[index] || selectedFacts[index + 1] || selectedFacts[index + 2] || selectedFacts[index + 3]) {\r\n        SaveSelected(index)\r\n        SaveSelected(index+1)\r\n        SaveSelected(index+2)\r\n        SaveSelected(index+3)\r\n      }\r\n      else {\r\n        alert(\"No items selected!\");\r\n      }\r\n    }\r\n    else {\r\n      alert(\"No username set!\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"styleddiv\">\r\n      These aren't cat facts, because the original API crashed :(\r\n      <br />\r\n      {APIisBack ? \"API is back online! :)\" : \"API still not working :(\"}\r\n      <br />\r\n      <input type=\"checkbox\" onChange={() => { selectedFacts[index] ? selectedFacts[index] = false : selectedFacts[index] = true }} />\r\n      {(index + 1) + \". \" + JSON.stringify(facts[index].title)}\r\n      <br />\r\n      <input type=\"checkbox\" onChange={() => { selectedFacts[index + 1] ? selectedFacts[index + 1] = false : selectedFacts[index + 1] = true }} />\r\n      {(index + 2) + \". \" + JSON.stringify(facts[index + 1].title)}\r\n      <br />\r\n      <input type=\"checkbox\" onChange={() => { selectedFacts[index + 2] ? selectedFacts[index + 2] = false : selectedFacts[index + 2] = true }} />\r\n      {(index + 3) + \". \" + JSON.stringify(facts[index + 2].title)}\r\n      <br />\r\n      <input type=\"checkbox\" onChange={() => { selectedFacts[index + 3] ? selectedFacts[index + 3] = false : selectedFacts[index + 3] = true }} />\r\n      {(index + 4) + \". \" + JSON.stringify(facts[index + 3].title)}\r\n      <br />\r\n      <div className=\"styleddiv\">\r\n        <button variant='primary' className=\"button\" onClick={() => { index >= 4 ? setIndex(index - 4) : setIndex(index) }}>\r\n          {index >= 4 ? <h4>Previous {index - 3}-{index}</h4> : <h4>No previous available</h4>}</button>\r\n        <button variant='primary' className=\"button\" onClick={() => { setIndex(index + 4) }}><h4>Next {index + 5}-{index + 8}</h4></button>\r\n        <br />\r\n      </div>\r\n      <div className=\"styleddiv\">\r\n        <button variant='primary' className=\"button\" onClick={() => { Save() }}><h4>Save Selected items</h4></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RandomCatThings"]},"metadata":{},"sourceType":"module"}